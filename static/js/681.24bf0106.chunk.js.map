{"version":3,"file":"static/js/681.24bf0106.chunk.js","mappings":"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","sources":["components/Api/Api.jsx","components/MovieList/MovieList.styled.jsx","components/MovieList/MovieList.jsx","components/SearchBar/SerchBar.styled.jsx","components/SearchBar/SerchBar.jsx","pages/Movies.jsx"],"sourcesContent":["const KEY = '5838ed03aade1a1b5b4b58af51fb1765';\n\nexport const fetchTrendingMovies = () => {\n  return fetch(\n    `https://api.themoviedb.org/3/trending/movie/week?api_key=${KEY}`\n  )\n    .then(res => res.json())\n    .then(data => data.results);\n};\n\nexport const fetchMovieById = id => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=${KEY}&language=en-US`\n  )\n    .then(res => res.json())\n    .then(data => data);\n};\n\nexport const fetchMovieCast = id => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${KEY}&language=en-US`\n  )\n    .then(res => res.json())\n    .then(data => data.cast);\n};\n\nexport const fetchMovieByQuery = queryValue => {\n  return fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=${KEY}&language=en-US&query=${queryValue}&page=1&include_adult=false`\n  )\n    .then(response => response.json())\n    .then(data => data.results);\n};\n\nexport const fetchMovieReviews = id => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${KEY}&language=en-US`\n  )\n    .then(res => res.json())\n    .then(data => data.results);\n};\n","import styled from '@emotion/styled';\nimport { Link } from 'react-router-dom';\n\nexport const List = styled.ul`\n  list-style: circle;\n  text-decoration: none;\n`;\n\nexport const MovieLink = styled(Link)`\n  text-decoration: none;\n  color: black;\n  font-size: larger;\n`;\n","import { useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { List, MovieLink } from './MovieList.styled';\n\nconst MovieList = ({ movies }) => {\n  const location = useLocation();\n\n  function createUrl(location, movie) {\n    let urlPath;\n\n    if (location.pathname !== '/movies') {\n      urlPath = `/movies/${movie.id}`;\n    } else {\n      urlPath = `${movie.id}`;\n    }\n\n    return urlPath;\n  }\n\n  return (\n    <List>\n      {movies.map(movie => {\n        return (\n          <li key={movie.id}>\n            <MovieLink\n              to={createUrl(location, movie)}\n              state={{ from: location }}\n            >\n              {movie.title}\n            </MovieLink>\n          </li>\n        );\n      })}\n    </List>\n  );\n};\n\nMovieList.propTypes = {\n  movies: PropTypes.array.isRequired,\n};\n\nexport default MovieList;\n","import styled from '@emotion/styled';\nexport const Form = styled.form`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const Input = styled.input`\n  box-sizing: border-box;\n  width: 200px;\n  height: 30px;\n  margin: 30px 0;\n  border: 1px solid black;\n  border-right: none;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  background: none;\n  font-size: 16px;\n  font-weight: 400;\n  outline: 0;\n}`;\n\nexport const Btn = styled.button`\n  background: none;\n  color: black;\n  width: 30px;\n  height: 30px;\n  border: 1px solid black;\n  border-left: none;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n`;\n","import { Input, Form, Btn } from './SerchBar.styled';\nimport { useState } from 'react';\nimport { AiOutlineSearch } from 'react-icons/ai';\nimport PropTypes from 'prop-types';\n\nconst SearchBar = ({ onSubmit }) => {\n  const [searchValue, setSearchValue] = useState('');\n\n  const saveInputValue = e => {\n    setSearchValue(e.currentTarget.value.toLowerCase());\n  };\n\n  const submitForm = e => {\n    e.preventDefault();\n    if (searchValue.trim() === '') {\n      return;\n    }\n    onSubmit(searchValue);\n    setSearchValue('');\n  };\n\n  return (\n    <Form onSubmit={submitForm}>\n      <Input\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        onChange={saveInputValue}\n        value={searchValue}\n      />\n      <Btn type=\"submit\">\n        <AiOutlineSearch />\n      </Btn>\n    </Form>\n  );\n};\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchBar;\n","import { fetchMovieByQuery } from 'components/Api/Api';\nimport MovieList from 'components/MovieList/MovieList';\nimport SearchBar from 'components/SearchBar/SerchBar';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams('');\n  const query = searchParams.get('query');\n  const [searchValue, setSearchValue] = useState(query ? query : '');\n  const [moviesArray, setMoviesArray] = useState([]);\n\n  useEffect(() => {\n    async function fetchMoviesList(value) {\n      try {\n        const moviesArray = await fetchMovieByQuery(value);\n        setMoviesArray([...moviesArray]);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n    if (searchValue === '') {\n      return;\n    }\n    fetchMoviesList(searchValue);\n  }, [searchValue]);\n\n  const saveSearchValue = value => {\n    if (value === '') {\n      return;\n    }\n\n    setSearchValue(value);\n    setSearchParams({ query: value });\n  };\n\n  return (\n    <>\n      <SearchBar onSubmit={saveSearchValue} />\n      <MovieList movies={moviesArray} />\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["KEY","fetchTrendingMovies","fetch","then","res","json","data","results","fetchMovieById","id","fetchMovieCast","cast","fetchMovieByQuery","queryValue","response","fetchMovieReviews","List","styled","MovieLink","Link","movies","location","useLocation","createUrl","movie","pathname","map","to","state","from","title","Form","Input","Btn","onSubmit","useState","searchValue","setSearchValue","e","preventDefault","trim","type","autoComplete","autoFocus","placeholder","onChange","currentTarget","value","toLowerCase","useSearchParams","searchParams","setSearchParams","query","get","moviesArray","setMoviesArray","useEffect","console","log","fetchMoviesList","MovieList"],"sourceRoot":""}